{
  "Document": {
    "DocumentId": 2076071912,
    "Title": "SQL Server 2005: Flippant Remarks about the New FOR XML PATH() Syntax",
    "DocumentShortName": null,
    "FileName": null,
    "Path": null,
    "CreateDate": "2007-11-07T17:39:25",
    "ModificationDate": "2007-11-07T17:39:25",
    "TemplateId": null,
    "SegmentId": 72,
    "IsRoot": false,
    "IsActive": true,
    "SortOrdinal": null,
    "ClientId": null,
    "Tag": null
  },
  "Content": "The FOR XML PATH() syntax uses standard XPath queries to replace the proprietary and often extremely confusing syntax of the FOR XML EXPLICIT syntax. The following code block shows how this works:\n\n    DECLARE\n        @d1 XML\n    ,   @d2 XML\n\n    SET @d1 = '<one/>'\n\n    SET @d2 = '<two/>'\n\n    SELECT\n        @d1 \"node()\"\n    ,   @d2 \"node()\"\n    FOR XML PATH('root')\n\nwhere node() is a standard XPath function. This SELECT statement returns:\n\n    <root>\n      <one />\n      <two />\n    </root>\n\nYou can see how the pattern above can be used to assemble arbitrary fragments of XML into one document. This use of native SQL 2005 XML data type eliminates the need for UNION queries! This pattern coupled with the new TYPE directive in the FOR XML clause yields almost unlimited flexibility!\n\nFor more information, see:\n\n    “What's New in FOR XML in Microsoft SQL Server 2005”\n    http://msdn2.microsoft.com/en-us/library/ms345137.aspx\n\nand\n\n    “Bak2Basics: Learn T-SQL - FOR XML”\n    http://blah.winsmarts.com/2007-2-Bak2Basics__Learn_T-SQL_-_FOR_XML.aspx\n",
  "Tag": "kb2076071912"
}