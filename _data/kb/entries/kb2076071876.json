{
  "Document": {
    "DocumentId": 2076071876,
    "Title": "DreamHost: Maintaining an Offline Copy of WordPress",
    "DocumentShortName": null,
    "FileName": null,
    "Path": null,
    "CreateDate": "2007-09-07T13:22:52",
    "ModificationDate": "2007-09-07T13:22:52",
    "TemplateId": null,
    "SegmentId": 68,
    "IsRoot": false,
    "IsActive": true,
    "SortOrdinal": null,
    "ClientId": null,
    "Tag": null
  },
  "Content": "This note refers to WordPress 2.2.2 from a DreamHost bash shell to an Ubuntu VM.\n\nScript mysqldump on the DreamHost server to export WordPress data. This is an example:\n\n    mysqldump --opt -u myuser -p -h mydbdomain.com my_wp_db \\\n        --ignore-table=my_wp_db.wp_sk2_logs \\\n        --ignore-table=my_wp_db.wp_sk2_spams \\\n        --default-character-set=\"latin1\" >mydb_bak.sql\n\n\nScript rsync to copy/overwrite the SQL backup (mydb_bak.sql).\n\nScript rsync to overwrite the local WordPress installation. This is an example:\n\n    rsync -e ssh -ar --delete-after \\\n        --exclude '*wp-content/themes*' \\\n        --progress \\\n        --stats \\\n        me@mydomain.com:myremotesite/wordpressfolder/ mylocalsite/wordpressfolder/\n\nNote that the freaking, huge themes folder is excluded.\n\nUse phpMyAdmin or mysql to load the SQL backup. Eventually the file size of the backup will get so large that you might have to use mysql exclusively to avoid screwing around with PHP settings.\n\nUse phpMyAdmin (or mysql) to update the following WordPress options for your local (offline) web server:\n\n    option_name='siteurl'\n    option_name='home'\n\nThese changes to the database should be enough to get the off-line site displaying properly. However, the enhanced security on DreamHost.com may prevent your local web server from loading wp-config.php. You might have to make sure that others can read this file on your local machine.\n\nEdit wp-config.php with lines like the following:\n\n    define('DB_NAME', 'your_local_wp_db');\n    define('DB_HOST', 'localhost');\n\nYou might need to change DB_USER and DB_PASSWORD as well.\n",
  "Tag": "kb2076071876"
}