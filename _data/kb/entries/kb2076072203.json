{
  "Document": {
    "DocumentId": 2076072203,
    "Title": "Data Structures and Algorithms with Object-Oriented Design Patterns in C#: “Enumerable Collections and Enumerators”",
    "DocumentShortName": null,
    "FileName": null,
    "Path": null,
    "CreateDate": "2009-08-17T23:12:43",
    "ModificationDate": "2009-08-17T23:12:43",
    "TemplateId": null,
    "SegmentId": 83,
    "IsRoot": false,
    "IsActive": true,
    "SortOrdinal": null,
    "ClientId": null,
    "Tag": null
  },
  "Content": "In this section we introduce an abstraction called an enumerator. An enumerator provides the means to access one-by-one all the objects in a container. Enumerators are an alternative to using the visitors described in Section gif.\n\nThe Container interface given in Program gif extends the standard C# IEnumerable interface . The following code fragment defines the IEnumerable interface.\n\nnamespace System.Collections\n{\n    public interface IEnumerable\n    {\n\tpublic IEnumerator GetEnumerator();\n    }\n}\n\nSimply put, a class that is enumerable provides a method that returns an enumerator.\n\nThe idea is that for every concrete container class we will also implement a related class that implements the standard C# IEnumerator interface . The following code fragment defines the IEnumerator interface.\n\nnamespace System.Collections\n{\n    public interface IEnumerator\n    {\n\tpublic bool MoveNext();\n\tpublic object Current { get; }\n\tpublic void Reset();\n    }\n}\n\nThe interface comprises two methods, MoveNext and Reset, and a property, Current.\n\nIn order to understand the desired semantics, it is best to consider first an example which illustrates the use of an enumerator. Consider a concrete container class, say SomeContainer, that implements the Container interface. The following code fragment illustrates the use of the enumerator to access one-by-one the objects contained in the container:\n\nContainer c = new SomeContainer();\n// ...\nIEnumerator e = c.GetEnumerator();\nwhile (e.MoveNext())\n{\n    object obj = e.Current;\n    Console.WriteLine(obj);\n}\ne.Reset();\n\nIn order to have the desired effect, the members of the IEnumerator interface must have the following behaviors:\n\nMoveNext\n    The MoveNext method is called in the loop-termination test part of the while statement. The MoveNext conceptually moves the enumerator to the next object to be visited. The MoveNext method returns true when there are still more objects in the container to be visited and it returns false when all of the contained objects have been visited. \nCurrent\n    The Current property provides a get accessor that returns the next object in the container to be visited. If there is no current object to be visited, this accessor throws a InvalidOperationException exception. \nReset\n    The Reset method resets the enumerator so that all the objects in the container can be visited again.\n\nGiven these semantics for the enumerator methods, the program fragment shown above systematically visits all of the objects in the container and prints each one on its own line of the console.\n\nOne of the advantages of using an enumerator object which is separate from the container is that it is possible then to have more than one enumerator associated with a given container. This provides greater flexibility than possible using a visitor, since only one visitor can be accepted by a container at any given time. For example, consider the following code fragment:\n\nContainer c = new SomeContainer();\n// ...\nIEnumerator e1 = c.GetEnumerator();\nwhile (e1.MoveNext())\n{\n    object obj1 = e1.Current;\n    IEnumerator e2 = c.GetEnumerator();\n    while (e2.MoveNext())\n    {\n\tobject obj2 = e2.Current;\n\tif (obj1.Equals(obj2))\n\t    Console.WriteLine(obj1 + \"=\" + obj2);\n    }\n}\n\nThis code compares all pairs of objects in the container c and prints out those which are equal.\n\nA certain amount of care is required when defining and using enumerators. In order to simplify the implementation of enumerators, we shall assume that while an enumerator is in use, the associated container will not be modified.\n\n[http://www.brpreiss.com/books/opus6/html/page126.html]",
  "Tag": "kb2076072203"
}