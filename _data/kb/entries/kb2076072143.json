{
  "Document": {
    "DocumentId": 2076072143,
    "Title": "“XPath & Namespaces” by Wayne Allen; “there is no such thing as a default namespace in XPath”",
    "DocumentShortName": null,
    "FileName": null,
    "Path": null,
    "CreateDate": "2009-07-19T10:58:53",
    "ModificationDate": "2009-07-19T10:58:53",
    "TemplateId": null,
    "SegmentId": 83,
    "IsRoot": false,
    "IsActive": true,
    "SortOrdinal": null,
    "ClientId": null,
    "Tag": null
  },
  "Content": "I'm sure many out there know this or figured it out eons ago, but it was new to me and took awhile to figure out.\n\nSay you have a RDF style XML document that looks something like:\n\n<?xml version=\"1.0\" encoding=\"iso-8859-1\" ?>\n<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:sy=\"http://purl.org/rss/1.0/modules/syndication/\" xmlns:admin=\"http://webns.net/mvcb/\" xmlns=\"http://purl.org/rss/1.0/\">\n<channel rdf:about=\"http://someplace.com/weblog/\">\n<title>News from Bob</title>\n<link>http:// someplace.com/weblog/</link>\n<description></description>\n<dc:language>en-us</dc:language>\n<dc:creator>Bob</dc:creator>\n<dc:rights>Copyright 2003 Bob</dc:rights>\n<dc:date>2003-03-19T22:30:34-07:00</dc:date>\n<admin:generatorAgent rdf:resource=\"http://www.movabletype.org/?v=2.51\" />\n<admin:errorReportsTo rdf:resource=\"mailto:tbob@somewhere.com\" />\n<sy:updatePeriod>hourly</sy:updatePeriod>\n<sy:updateFrequency>1</sy:updateFrequency>\n</channel>\n<item rdf:about=\"http://somewhere/weblog/archives/2003/03/19.shtml#how_i_really_feel_about_cheese\">\n<title>How I really feel about Cheese</title>\n<description>&lt;p&gt;\nI was asked in a comment why I really don't like cheese...</description>\n</item>\n</rdf:RDF>\n\nSimplistically I thought the following code would work:\n\n    XmlNode dateNode = rdfXml.SelectSingleNode(\"/RDF/channel/date\");\n\nBut of course it returns Null. So I tried the following:\n\n    XmlNode dateNode = rdfXml.SelectSingleNode(\"/rdf:RDF/channel/dc:date\");\n\nOf course this returned Null as well. So it was time to turn to the help file, which didn’t help much. My next best friend is Google, and Google Groups didn’t let me down. Turns out SelectSingleNode is overloaded and takes a XmlNamespaceManager as the second parameter. I now had this:\n\n    nsMgr = new XmlNamespaceManager(feedXml.NameTable);\n\n    nsMgr.AddNamespace(\"rdf\", \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\n\n    nsMgr.AddNamespace(\"dc\", \"http://purl.org/dc/elements/1.1/\");\n\n    XmlNode dateNode = rdfXml.SelectSingleNode(\"/rdf:RDF/channel/dc:date\", nsMgr);\n\nHowever, I didn’t know what to do with the default namespace. A little more research lead me to the nugget that there is no such thing as a default namespace in XPath, so all I has to do was add the default namespace with the prefix of my choosing.\n\n    nsMgr = new XmlNamespaceManager(feedXml.NameTable);\n\n    nsMgr.AddNamespace(\"rdf\", \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\n\n    nsMgr.AddNamespace(\"dc\", \"http://purl.org/dc/elements/1.1/\");\n\n    nsMgr.AddNamespace(\"rss\", \"http://purl.org/rss/1.0/\");\n\n    XmlNode dateNode = rdfXml.SelectSingleNode(\"/rdf:RDF/rss:channel/dc:date\", nsMgr);\n\nNow everything works like it should.\n\n[http://weblogs.asp.net/wallen/archive/2003/04/02/4725.aspx]",
  "Tag": "kb2076072143"
}