{
  "Document": {
    "DocumentId": 2076072023,
    "Title": "SQL Server 2005 PROBLEM: “Unable to determine if the owner (DOMAIN\\xxx) of job <JOB_Name> has server access (reason: error code 0x534. [SQLSTATE 42000] (Error 15404))”; Andrew Calvett",
    "DocumentShortName": null,
    "FileName": null,
    "Path": null,
    "CreateDate": "2008-09-01T20:28:56",
    "ModificationDate": "2008-09-01T20:28:56",
    "TemplateId": null,
    "SegmentId": 72,
    "IsRoot": false,
    "IsActive": true,
    "SortOrdinal": null,
    "ClientId": null,
    "Tag": null
  },
  "Content": "SQL Server Agent jobs can revert back to their previous owner. This can produce the error: “Unable to determine if the owner (DOMAIN\\xxx) of job <JOB_Name> has server access (reason: error code 0x534. [SQLSTATE 42000] (Error 15404))”\n\nUltimately the sysdtspackages90 table might need updating. The following SQL statements help:\n\n--See who owns which packages\nSELECT\n    name\n,   description\n,   suser_sname(ownersid)\nFROM\n    msdb.dbo.sysdtspackages90\n\n/*\nNow we update the owner to an appropriate domain account. Either the service account or a generic admin account is good.\n*/\n\nUPDATE msdb.dbo.sysdtspackages90\n\nSET\n    OWNERSID = SUSER_SID('YOUR_DOMAIN\\APPROPRIATE_ACCOUNT')\nWHERE\n    OWNERSID = SUSER_SID('YOUR_DOMAIN\\OLD_ACCOUNT') \n\nAndrew Calvett writes, “It turns out that when you save a change to a maintenance plan the job owners are reset to the owner of the maintenance plan. The owner of the maintenance plan will be the account used to connect to the server in SSMS when creating the plan.”\n\nFor more information see Andrew Calvett, his post, “The Job whose owner kept coming back”:\n\n    http://sqlblogcasts.com/blogs/acalvett/\n        archive/2007/12/30/the-job-whose-owner-kept-coming-back.aspx",
  "Tag": "kb2076072023"
}