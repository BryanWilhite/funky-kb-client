<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta name="description" content="This repo stores in static files notes taken since the 1990s. I started taking notes in Microsoft Access, then I built an ASP site over SQL server, then I built a PHP site over SQLite, then I built an Angular JS site over Azure Storage BLOBs." />
        <meta name="robots" content="index, follow" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <base href="https://bryanwilhite.github.io/the-funky-knowledge-base/" />

        <link rel="canonical" href="https://bryanwilhite.github.io/the-funky-knowledge-base/" />
        <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
        <link rel="stylesheet" href="./index.min.css" />
        <script src="./index.min.js"></script>

        <title>SQL Server 2005: Flippant Remarks about the New FOR XML PATH() Syntax - the funky knowledge base</title>
    </head>

    <body class="mdc-typography">
        <header class="mdc-top-app-bar mdc-top-app-bar--short">
            <div class="mdc-top-app-bar__row">
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                    <a href="https://bryanwilhite.github.io/the-funky-knowledge-base/" class="material-icons mdc-top-app-bar__navigation-icon">arrow_back_ios</a>
                    <span class="mdc-top-app-bar__title">the funky knowledge base</span>
                </section>
                <section class="description mdc-top-app-bar__section mdc-top-app-bar__section--align-end">
                    personal notes from way, _way_ back and maybe today
                </section>
            </div>
        </header>
        <main class="mdc-layout-grid" id="main-content">
            <h3>SQL Server 2005: Flippant Remarks about the New FOR XML PATH() Syntax</h3>
<section class="entry">

    <p>The FOR XML PATH() syntax uses standard XPath queries to replace the proprietary and often extremely confusing syntax of the FOR XML EXPLICIT syntax. The following code block shows how this works:</p>
<pre><code>DECLARE
    @d1 XML
,   @d2 XML

SET @d1 = '&amp;lt;one/&amp;gt;'

SET @d2 = '&amp;lt;two/&amp;gt;'

SELECT
    @d1 &amp;quot;node()&amp;quot;
,   @d2 &amp;quot;node()&amp;quot;
FOR XML PATH('root')
</code></pre>
<p>where node() is a standard XPath function. This SELECT statement returns:</p>
<pre><code>&amp;lt;root&amp;gt;
  &amp;lt;one /&amp;gt;
  &amp;lt;two /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre>
<p>You can see how the pattern above can be used to assemble arbitrary fragments of XML into one document. This use of native SQL 2005 XML data type eliminates the need for UNION queries! This pattern coupled with the new TYPE directive in the FOR XML clause yields almost unlimited flexibility!</p>
<p>For more information, see:</p>
<pre><code>“What's New in FOR XML in Microsoft SQL Server 2005”
http://msdn2.microsoft.com/en-us/library/ms345137.aspx
</code></pre>
<p>and</p>
<pre><code>“Bak2Basics: Learn T-SQL - FOR XML”
http://blah.winsmarts.com/2007-2-Bak2Basics__Learn_T-SQL_-_FOR_XML.aspx
</code></pre>


</section>
<section class="meta">
    <span class="date"> <strong>mod date:</strong> 2007-11-08T01:39:25.000Z </span>
</section>

        </main>
        <footer>
            <span class="home"><a href="./">[home]</a></span>
            <span class="index"><a href="./entries/">[index]</a></span>
            <span class="copyright">&copy; 2019 Bryan D. Wilhite</span>
            <span class="twitter"><a href="https://twitter.com/BryanWilhite">@BryanWilhite</a></span>
        </footer>
    </body>

</html>