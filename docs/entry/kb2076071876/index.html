<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta name="description" content="This repo stores in static files notes taken since the 1990s. I started taking notes in Microsoft Access, then I built an ASP site over SQL server, then I built a PHP site over SQLite, then I built an Angular JS site over Azure Storage BLOBs." />
        <meta name="robots" content="index, follow" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <base href="/" />

        <link rel="canonical" href="http://the-funky-knowledge-base.github.io/" />
        <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
        <link rel="stylesheet" href="./index.min.css" />
        <script src="./index.min.js"></script>

        <title>DreamHost: Maintaining an Offline Copy of WordPress - the funky knowledge base</title>
    </head>

    <body class="mdc-typography">
        <h1>the funky knowledge base</h1>
        <h2>personal notes from way, _way_ back and maybe today</h2>
        <main>
<section class="entry">
    <h3>DreamHost: Maintaining an Offline Copy of WordPress</h3>

<pre>
<p>This note refers to WordPress 2.2.2 from a DreamHost bash shell to an Ubuntu VM.</p>
<p>Script mysqldump on the DreamHost server to export WordPress data. This is an example:</p>
<pre><code>mysqldump --opt -u myuser -p -h mydbdomain.com my_wp_db &amp;bsol;&amp;bsol;
    --ignore-table=my_wp_db.wp_sk2_logs &amp;bsol;&amp;bsol;
    --ignore-table=my_wp_db.wp_sk2_spams &amp;bsol;&amp;bsol;
    --default-character-set=&amp;quot;latin1&amp;quot; &amp;gt;mydb_bak.sql
</code></pre>
<p>Script rsync to copy/overwrite the SQL backup (mydb_bak.sql).</p>
<p>Script rsync to overwrite the local WordPress installation. This is an example:</p>
<pre><code>rsync -e ssh -ar --delete-after &amp;bsol;&amp;bsol;
    --exclude '*wp-content/themes*' &amp;bsol;&amp;bsol;
    --progress &amp;bsol;&amp;bsol;
    --stats &amp;bsol;&amp;bsol;
    me@mydomain.com:myremotesite/wordpressfolder/ mylocalsite/wordpressfolder/
</code></pre>
<p>Note that the freaking, huge themes folder is excluded.</p>
<p>Use phpMyAdmin or mysql to load the SQL backup. Eventually the file size of the backup will get so large that you might have to use mysql exclusively to avoid screwing around with PHP settings.</p>
<p>Use phpMyAdmin (or mysql) to update the following WordPress options for your local (offline) web server:</p>
<pre><code>option_name='siteurl'
option_name='home'
</code></pre>
<p>These changes to the database should be enough to get the off-line site displaying properly. However, the enhanced security on DreamHost.com may prevent your local web server from loading wp-config.php. You might have to make sure that others can read this file on your local machine.</p>
<p>Edit wp-config.php with lines like the following:</p>
<pre><code>define('DB_NAME', 'your_local_wp_db');
define('DB_HOST', 'localhost');
</code></pre>
<p>You might need to change DB_USER and DB_PASSWORD as well.</p>

</pre>

    <span class="date"> <strong>mod date:</strong> 2007-09-07T20:22:52.000Z </span>
</section>

        </main>

        <footer>
            &copy; 2019 Bryan D. Wilhite
            <a href="https://twitter.com/BryanWilhite">@BryanWilhite</a>
        </footer>
    </body>

</html>